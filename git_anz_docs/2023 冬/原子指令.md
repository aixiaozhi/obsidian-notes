## 2023.10.25
- <u>初步看懂是来自（手把手教你写cpu）附录E和附录A14.5</u>
### WHY ATOMIC
**简单来说，就是当多核共享一片数据空间的时候，一个时间只有一个核能占有此空间，就需要竞争，但是读后写可能会造成冲突，所以需要指令又读又写。**
![[Pasted image 20231025200523.png]]
![[Pasted image 20231025200542.png]]

### THEN
**通过引入lr/sc来解决频繁占用总线的问题**
这个可以理解为又拆分开读和写了，只是读是正常读，写返回写回成功或者失败的信息，这个互斥读和互斥写中间如果没有写操作，证明是上锁成功的，否则失败

![[Pasted image 20231025201029.png]]
![[Pasted image 20231025201507.png]]
